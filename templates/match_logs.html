{{/*
  Copyright 2014 Team 254. All Rights Reserved.
  Author: pat@patfairbank.com (Patrick Fairbank)

  UI for listing matches and their logs.
*/}}
{{define "title"}}Match Logs{{end}}
{{define "body"}}
<div class="row">
  <ul class="nav nav-tabs">
    <li>
      <a href="#Practice" class="nav-link{{if eq .CurrentMatchType practiceMatch }} active{{end}}" data-bs-toggle="tab">
        Practice
      </a>
    </li>
    <li>
      <a href="#Qualification" class="nav-link{{if eq .CurrentMatchType qualificationMatch }} active{{end}}"
        data-bs-toggle="tab">
        Qualification
      </a>
    </li>
    <li>
      <a href="#Playoff" class="nav-link{{if eq .CurrentMatchType playoffMatch }} active{{end}}" data-bs-toggle="tab">
        Playoff
      </a>
    </li>
  </ul>
  <div class="tab-content">
    {{range $type, $matches := .MatchesByType}}
      <div class="tab-pane {{if eq $.CurrentMatchType $type }} active{{end}}" id="{{$type}}">
        <table class="table table-striped table-hover ">
          <thead>
            <tr>
              <th>Match</th>
              <th>Time</th>
              <th class="text-center">Red Alliance</th>
              <th class="text-center">Blue Alliance</th>
            </tr>
          </thead>
          <tbody>
            {{range $match := $matches}}
              <tr>
                <td class="bg-{{$match.ColorClass}}">{{$match.ShortName}}</td>
                <td class="bg-{{$match.ColorClass}}">{{$match.Time}}</td>
                <td class="bg-{{$match.ColorClass}} text-center">
                  <a href="/match_logs/{{$match.Id}}/R1/log" target="_blank"><b class="btn btn-danger btn-sm btn-logs">
                    {{index $match.RedTeams 0}}
                  </b></a>
                  <a href="/match_logs/{{$match.Id}}/R2/log" target="_blank"><b class="btn btn-danger btn-sm btn-logs">
                    {{index $match.RedTeams 1}}
                  </b></a>
                  <a href="/match_logs/{{$match.Id}}/R3/log" target="_blank"><b class="btn btn-danger btn-sm btn-logs">
                    {{index $match.RedTeams 2}}
                  </b></a>
                </td>
                <td class="bg-{{$match.ColorClass}} text-center">
                  <a href="/match_logs/{{$match.Id}}/B1/log" target="_blank"><b class="btn btn-primary btn-sm btn-logs">
                    {{index $match.BlueTeams 0}}
                  </b></a>
                  <a href="/match_logs/{{$match.Id}}/B2/log" target="_blank"><b class="btn btn-primary btn-sm btn-logs">
                    {{index $match.BlueTeams 1}}
                  </b></a>
                  <a href="/match_logs/{{$match.Id}}/B3/log" target="_blank"><b class="btn btn-primary btn-sm btn-logs">
                    {{index $match.BlueTeams 2}}
                  </b></a>
                </td>
              </tr>
            {{end}}
          </tbody>
        </table>
      </div>
    {{end}}
  </div>
</div>
{{end}}
{{define "script"}}
{{end}}
